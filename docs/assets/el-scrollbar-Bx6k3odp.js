import{ak as de,b as B,al as U,a as re,a0 as me,S as X,i as ae,am as se,t as he,a2 as pe,U as ge,d as be,an as ye,j as R,ao as Se,l as we,n as N,_ as F,p as le,a6 as M,h as Ee,o as H,G as Te,X as G,w as ze}from"./base-DWc1T_OZ.js";import{c as _,g as _e,d as A,f as oe,r as b,a as xe,E as Y,h as O,v as $,x as ie,l as Pe,M as W,n as L,u as T,k as D,G as ke,H as Ce,j as ue,t as V,F as He,w as q,A as j,p as Oe,S as Le,o as Re,a9 as Ne,e as Ae,a1 as Ie,z as Be,q as Me}from"./index-D5iT9OGn.js";var $e=/\s/;function We(e){for(var t=e.length;t--&&$e.test(e.charAt(t)););return t}var De=/^\s+/;function Fe(e){return e&&e.slice(0,We(e)+1).replace(De,"")}var Z=NaN,Ke=/^[-+]0x[0-9a-f]+$/i,Ue=/^0b[01]+$/i,Xe=/^0o[0-7]+$/i,Ge=parseInt;function J(e){if(typeof e=="number")return e;if(de(e))return Z;if(B(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=B(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Fe(e);var n=Ue.test(e);return n||Xe.test(e)?Ge(e.slice(2),n?2:8):Ke.test(e)?Z:+e}function Ye(e){return e}function Ve(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var qe=800,je=16,Ze=Date.now;function Je(e){var t=0,n=0;return function(){var r=Ze(),a=je-(r-n);if(n=r,a>0){if(++t>=qe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Qe(e){return function(){return e}}var et=U?function(e,t){return U(e,"toString",{configurable:!0,enumerable:!1,value:Qe(t),writable:!0})}:Ye,tt=Je(et),Q=Math.max;function nt(e,t,n){return t=Q(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,l=Q(r.length-t,0),o=Array(l);++a<l;)o[a]=r[t+a];a=-1;for(var i=Array(t+1);++a<t;)i[a]=r[a];return i[t]=n(o),Ve(e,this,i)}}var rt=9007199254740991;function at(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=rt}var st="[object Arguments]";function ee(e){return re(e)&&me(e)==st}var ce=Object.prototype,lt=ce.hasOwnProperty,ot=ce.propertyIsEnumerable,fe=ee(function(){return arguments}())?ee:function(e){return re(e)&&lt.call(e,"callee")&&!ot.call(e,"callee")};function it(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var te=X?X.isConcatSpreadable:void 0;function ut(e){return ae(e)||fe(e)||!!(te&&e&&e[te])}function ct(e,t,n,r,a){var l=-1,o=e.length;for(n||(n=ut),a||(a=[]);++l<o;){var i=e[l];n(i)?it(a,i):a[a.length]=i}return a}function ft(e){var t=e==null?0:e.length;return t?ct(e):[]}function vt(e){return tt(nt(e,void 0,ft),e+"")}function dt(e,t){return e!=null&&t in Object(e)}function mt(e,t,n){t=se(t,e);for(var r=-1,a=t.length,l=!1;++r<a;){var o=he(t[r]);if(!(l=e!=null&&n(e,o)))break;e=e[o]}return l||++r!=a?l:(a=e==null?0:e.length,!!a&&at(a)&&pe(o,a)&&(ae(e)||fe(e)))}function ht(e,t){return e!=null&&mt(e,t,dt)}var I=function(){return ge.Date.now()},pt="Expected a function",gt=Math.max,bt=Math.min;function Xt(e,t,n){var r,a,l,o,i,c,d=0,w=!1,f=!1,v=!0;if(typeof e!="function")throw new TypeError(pt);t=J(t)||0,B(n)&&(w=!!n.leading,f="maxWait"in n,l=f?gt(J(n.maxWait)||0,t):l,v="trailing"in n?!!n.trailing:v);function p(u){var h=r,S=a;return r=a=void 0,d=u,o=e.apply(S,h),o}function y(u){return d=u,i=setTimeout(g,t),w?p(u):o}function z(u){var h=u-c,S=u-d,k=t-h;return f?bt(k,l-S):k}function E(u){var h=u-c,S=u-d;return c===void 0||h>=t||h<0||f&&S>=l}function g(){var u=I();if(E(u))return m(u);i=setTimeout(g,z(u))}function m(u){return i=void 0,v&&r?p(u):(r=a=void 0,o)}function s(){i!==void 0&&clearTimeout(i),d=0,r=c=a=i=void 0}function x(){return i===void 0?o:m(I())}function P(){var u=I(),h=E(u);if(r=arguments,a=this,c=u,h){if(i===void 0)return y(c);if(f)return clearTimeout(i),i=setTimeout(g,t),p(c)}return i===void 0&&(i=setTimeout(g,t)),o}return P.cancel=s,P.flush=x,P}function yt(e,t,n){for(var r=-1,a=t.length,l={};++r<a;){var o=t[r],i=be(e,o);n(i,o)&&ye(l,se(o,e),i)}return l}function St(e,t){return yt(e,t,function(n,r){return ht(e,r)})}var wt=vt(function(e,t){return e==null?{}:St(e,t)});class Et extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function Tt(e,t){throw new Et(`[${e}] ${t}`)}function Gt(e,t){}const zt=(e,t)=>{if(!R)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],r=Se(e,n);return["scroll","auto","overlay"].some(a=>r.includes(a))},Yt=(e,t)=>{if(!R)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(zt(n,t))return n;n=n.parentNode}return n};function Vt(e,t){if(!R)return;if(!t){e.scrollTop=0;return}const n=[];let r=t.offsetParent;for(;r!==null&&e!==r&&e.contains(r);)n.push(r),r=r.offsetParent;const a=t.offsetTop+n.reduce((c,d)=>c+d.offsetTop,0),l=a+t.offsetHeight,o=e.scrollTop,i=o+e.clientHeight;a<o?e.scrollTop=a:l>i&&(e.scrollTop=l-e.clientHeight)}const _t=["class","style"],xt=/^on[A-Z]/,qt=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=_(()=>((n==null?void 0:n.value)||[]).concat(_t)),a=_e();return a?_(()=>{var l;return we(Object.entries((l=a.proxy)==null?void 0:l.$attrs).filter(([o])=>!r.value.includes(o)&&!(t&&xt.test(o))))}):_(()=>({}))},Pt=N({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),kt=e=>wt(Pt,e),C=4,Ct={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Ht=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),K=Symbol("scrollbarContextKey"),Ot=N({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Lt="Thumb",Rt=A({__name:"thumb",props:Ot,setup(e){const t=e,n=oe(K),r=le("scrollbar");n||Tt(Lt,"can not inject scrollbar context");const a=b(),l=b(),o=b({}),i=b(!1);let c=!1,d=!1,w=R?document.onselectstart:null;const f=_(()=>Ct[t.vertical?"vertical":"horizontal"]),v=_(()=>Ht({size:t.size,move:t.move,bar:f.value})),p=_(()=>a.value[f.value.offset]**2/n.wrapElement[f.value.scrollSize]/t.ratio/l.value[f.value.offset]),y=u=>{var h;if(u.stopPropagation(),u.ctrlKey||[1,2].includes(u.button))return;(h=window.getSelection())==null||h.removeAllRanges(),E(u);const S=u.currentTarget;S&&(o.value[f.value.axis]=S[f.value.offset]-(u[f.value.client]-S.getBoundingClientRect()[f.value.direction]))},z=u=>{if(!l.value||!a.value||!n.wrapElement)return;const h=Math.abs(u.target.getBoundingClientRect()[f.value.direction]-u[f.value.client]),S=l.value[f.value.offset]/2,k=(h-S)*100*p.value/a.value[f.value.offset];n.wrapElement[f.value.scroll]=k*n.wrapElement[f.value.scrollSize]/100},E=u=>{u.stopImmediatePropagation(),c=!0,document.addEventListener("mousemove",g),document.addEventListener("mouseup",m),w=document.onselectstart,document.onselectstart=()=>!1},g=u=>{if(!a.value||!l.value||c===!1)return;const h=o.value[f.value.axis];if(!h)return;const S=(a.value.getBoundingClientRect()[f.value.direction]-u[f.value.client])*-1,k=l.value[f.value.offset]-h,ve=(S-k)*100*p.value/a.value[f.value.offset];n.wrapElement[f.value.scroll]=ve*n.wrapElement[f.value.scrollSize]/100},m=()=>{c=!1,o.value[f.value.axis]=0,document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",m),P(),d&&(i.value=!1)},s=()=>{d=!1,i.value=!!t.size},x=()=>{d=!0,i.value=c};xe(()=>{P(),document.removeEventListener("mouseup",m)});const P=()=>{document.onselectstart!==w&&(document.onselectstart=w)};return M(Y(n,"scrollbarElement"),"mousemove",s),M(Y(n,"scrollbarElement"),"mouseleave",x),(u,h)=>(O(),$(Ce,{name:T(r).b("fade"),persisted:""},{default:ie(()=>[Pe(W("div",{ref_key:"instance",ref:a,class:L([T(r).e("bar"),T(r).is(T(f).key)]),onMousedown:z},[W("div",{ref_key:"thumb",ref:l,class:L(T(r).e("thumb")),style:D(T(v)),onMousedown:y},null,38)],34),[[ke,u.always||i.value]])]),_:1},8,["name"]))}});var ne=F(Rt,[["__file","thumb.vue"]]);const Nt=N({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),At=A({__name:"bar",props:Nt,setup(e,{expose:t}){const n=e,r=oe(K),a=b(0),l=b(0),o=b(""),i=b(""),c=b(1),d=b(1);return t({handleScroll:v=>{if(v){const p=v.offsetHeight-C,y=v.offsetWidth-C;l.value=v.scrollTop*100/p*c.value,a.value=v.scrollLeft*100/y*d.value}},update:()=>{const v=r==null?void 0:r.wrapElement;if(!v)return;const p=v.offsetHeight-C,y=v.offsetWidth-C,z=p**2/v.scrollHeight,E=y**2/v.scrollWidth,g=Math.max(z,n.minSize),m=Math.max(E,n.minSize);c.value=z/(p-z)/(g/(p-g)),d.value=E/(y-E)/(m/(y-m)),i.value=g+C<p?`${g}px`:"",o.value=m+C<y?`${m}px`:""}}),(v,p)=>(O(),ue(He,null,[V(ne,{move:a.value,ratio:d.value,size:o.value,always:v.always},null,8,["move","ratio","size","always"]),V(ne,{move:l.value,ratio:c.value,size:i.value,vertical:"",always:v.always},null,8,["move","ratio","size","always"])],64))}});var It=F(At,[["__file","bar.vue"]]);const Bt=N({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Ee([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,...kt(["ariaLabel","ariaOrientation"])}),Mt={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(H)},$t="ElScrollbar",Wt=A({name:$t}),Dt=A({...Wt,props:Bt,emits:Mt,setup(e,{expose:t,emit:n}){const r=e,a=le("scrollbar");let l,o;const i=b(),c=b(),d=b(),w=b(),f=_(()=>{const s={};return r.height&&(s.height=G(r.height)),r.maxHeight&&(s.maxHeight=G(r.maxHeight)),[r.wrapStyle,s]}),v=_(()=>[r.wrapClass,a.e("wrap"),{[a.em("wrap","hidden-default")]:!r.native}]),p=_(()=>[a.e("view"),r.viewClass]),y=()=>{var s;c.value&&((s=w.value)==null||s.handleScroll(c.value),n("scroll",{scrollTop:c.value.scrollTop,scrollLeft:c.value.scrollLeft}))};function z(s,x){Me(s)?c.value.scrollTo(s):H(s)&&H(x)&&c.value.scrollTo(s,x)}const E=s=>{H(s)&&(c.value.scrollTop=s)},g=s=>{H(s)&&(c.value.scrollLeft=s)},m=()=>{var s;(s=w.value)==null||s.update()};return q(()=>r.noresize,s=>{s?(l==null||l(),o==null||o()):({stop:l}=Te(d,m),o=M("resize",m))},{immediate:!0}),q(()=>[r.maxHeight,r.height],()=>{r.native||j(()=>{var s;m(),c.value&&((s=w.value)==null||s.handleScroll(c.value))})}),Oe(K,Le({scrollbarElement:i,wrapElement:c})),Re(()=>{r.native||j(()=>{m()})}),Ne(()=>m()),t({wrapRef:c,update:m,scrollTo:z,setScrollTop:E,setScrollLeft:g,handleScroll:y}),(s,x)=>(O(),ue("div",{ref_key:"scrollbarRef",ref:i,class:L(T(a).b())},[W("div",{ref_key:"wrapRef",ref:c,class:L(T(v)),style:D(T(f)),onScroll:y},[(O(),$(Ie(s.tag),{id:s.id,ref_key:"resizeRef",ref:d,class:L(T(p)),style:D(s.viewStyle),role:s.role,"aria-label":s.ariaLabel,"aria-orientation":s.ariaOrientation},{default:ie(()=>[Ae(s.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),s.native?Be("v-if",!0):(O(),$(It,{key:0,ref_key:"barRef",ref:w,always:s.always,"min-size":s.minSize},null,8,["always","min-size"]))],2))}});var Ft=F(Dt,[["__file","scrollbar.vue"]]);const jt=ze(Ft);export{jt as E,Xt as a,it as b,at as c,Gt as d,fe as e,qt as f,Yt as g,ht as h,Ye as i,Vt as s,Tt as t,kt as u};
