import{r as x,g as j,f as me,c as u,u as r,p as ge,d as z,h as v,j as B,e as G,t as O,x as I,l as q,M as E,n as y,k as J,L as Q,G as X,H as Y,af as ve,o as ye,w as Ce,v as h,z as T,a1 as be,F as he,Q as Se,B as H,ag as W,i as k,ah as V}from"./index-BZbtDiDU.js";import{an as _e,g as Te,p as ee,ap as xe,H as Ie,v as we,aq as ze,ar as Ne,as as Be,at as Ee,au as ke,av as Me,n as se,h as S,o as M,X as A,A as P,_ as ne,w as Oe,a8 as $e,L as Le,j as te,aw as U,a6 as De,G as Fe,F as Z,ax as He,ay as Ve,E as Ae,r as Pe,az as Ue}from"./base-Cgzfsrv9.js";function Ze(s,n,e){return s==null?s:_e(s,n,e)}const K=s=>Object.keys(s),vs=(s,n,e)=>({get value(){return Te(s,n,e)},set value(o){Ze(s,n,o)}}),oe=Symbol(),w=x();function ae(s,n=void 0){const e=j()?me(oe,w):w;return s?u(()=>{var o,t;return(t=(o=e.value)==null?void 0:o[s])!=null?t:n}):e}function Ke(s,n){const e=ae(),o=ee(s,u(()=>{var l;return((l=e.value)==null?void 0:l.namespace)||xe})),t=Ie(u(()=>{var l;return(l=e.value)==null?void 0:l.locale})),d=we(u(()=>{var l;return((l=e.value)==null?void 0:l.zIndex)||ze})),a=u(()=>{var l;return r(n)||((l=e.value)==null?void 0:l.size)||""});return Re(u(()=>r(e)||{})),{ns:o,locale:t,zIndex:d,size:a}}const Re=(s,n,e=!1)=>{var o;const t=!!j(),d=t?ae():void 0,a=(o=void 0)!=null?o:t?ge:void 0;if(!a)return;const l=u(()=>{const p=r(s);return d!=null&&d.value?je(d.value,p):p});return a(oe,l),a(Ne,u(()=>l.value.locale)),a(Be,u(()=>l.value.namespace)),a(Ee,u(()=>l.value.zIndex)),a(ke,{size:u(()=>l.value.size||"")}),a(Me,u(()=>({emptyValues:l.value.emptyValues,valueOnClear:l.value.valueOnClear}))),(e||!w.value)&&(w.value=l.value),l},je=(s,n)=>{const e=[...new Set([...K(s),...K(n)])],o={};for(const t of e)o[t]=n[t]!==void 0?n[t]:s[t];return o},R={},Ge=se({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,dotStyle:{type:S([String,Object,Array])},badgeStyle:{type:S([String,Object,Array])},offset:{type:S(Array),default:[0,0]},dotClass:{type:String},badgeClass:{type:String}}),qe=["textContent"],Je=z({name:"ElBadge"}),Qe=z({...Je,props:Ge,setup(s,{expose:n}){const e=s,o=ee("badge"),t=u(()=>e.isDot?"":M(e.value)&&M(e.max)?e.max<e.value?`${e.max}+`:e.value===0&&!e.showZero?"":`${e.value}`:`${e.value}`),d=u(()=>{var a,l,p,m,g,C;return[{backgroundColor:e.color,marginRight:A(-((l=(a=e.offset)==null?void 0:a[0])!=null?l:0)),marginTop:A((m=(p=e.offset)==null?void 0:p[1])!=null?m:0)},(g=e.dotStyle)!=null?g:{},(C=e.badgeStyle)!=null?C:{}]});return P({from:"dot-style",replacement:"badge-style",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},u(()=>!!e.dotStyle)),P({from:"dot-class",replacement:"badge-class",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},u(()=>!!e.dotClass)),n({content:t}),(a,l)=>(v(),B("div",{class:y(r(o).b())},[G(a.$slots,"default"),O(Y,{name:`${r(o).namespace.value}-zoom-in-center`,persisted:""},{default:I(()=>[q(E("sup",{class:y([r(o).e("content"),r(o).em("content",a.type),r(o).is("fixed",!!a.$slots.default),r(o).is("dot",a.isDot),a.dotClass,a.badgeClass]),style:J(r(d)),textContent:Q(r(t))},null,14,qe),[[X,!a.hidden&&(r(t)||a.isDot)]])]),_:1},8,["name"])],2))}});var Xe=ne(Qe,[["__file","badge.vue"]]);const Ye=Oe(Xe),le=["success","info","warning","error"],c=$e({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:te?document.body:void 0}),We=se({customClass:{type:String,default:c.customClass},center:{type:Boolean,default:c.center},dangerouslyUseHTMLString:{type:Boolean,default:c.dangerouslyUseHTMLString},duration:{type:Number,default:c.duration},icon:{type:Le,default:c.icon},id:{type:String,default:c.id},message:{type:S([String,Object,Function]),default:c.message},onClose:{type:S(Function),default:c.onClose},showClose:{type:Boolean,default:c.showClose},type:{type:String,values:le,default:c.type},plain:{type:Boolean,default:c.plain},offset:{type:Number,default:c.offset},zIndex:{type:Number,default:c.zIndex},grouping:{type:Boolean,default:c.grouping},repeatNum:{type:Number,default:c.repeatNum}}),es={destroy:()=>!0},f=ve([]),ss=s=>{const n=f.findIndex(t=>t.id===s),e=f[n];let o;return n>0&&(o=f[n-1]),{current:e,prev:o}},ns=s=>{const{prev:n}=ss(s);return n?n.vm.exposed.bottom.value:0},ts=(s,n)=>f.findIndex(o=>o.id===s)>0?16:n,os=["id"],as=["innerHTML"],ls=z({name:"ElMessage"}),rs=z({...ls,props:We,emits:es,setup(s,{expose:n}){const e=s,{Close:o}=He,{ns:t,zIndex:d}=Ke("message"),{currentZIndex:a,nextZIndex:l}=d,p=x(),m=x(!1),g=x(0);let C;const ue=u(()=>e.type?e.type==="error"?"danger":e.type:"info"),ie=u(()=>{const i=e.type;return{[t.bm("icon",i)]:i&&U[i]}}),$=u(()=>e.icon||U[e.type]||""),ce=u(()=>ns(e.id)),L=u(()=>ts(e.id,e.offset)+ce.value),de=u(()=>g.value+L.value),pe=u(()=>({top:`${L.value}px`,zIndex:a.value}));function N(){e.duration!==0&&({stop:C}=Ve(()=>{_()},e.duration))}function D(){C==null||C()}function _(){m.value=!1}function fe({code:i}){i===Ae.esc&&_()}return ye(()=>{N(),l(),m.value=!0}),Ce(()=>e.repeatNum,()=>{D(),N()}),De(document,"keydown",fe),Fe(p,()=>{g.value=p.value.getBoundingClientRect().height}),n({visible:m,bottom:de,close:_}),(i,F)=>(v(),h(Y,{name:r(t).b("fade"),onBeforeLeave:i.onClose,onAfterLeave:F[0]||(F[0]=fs=>i.$emit("destroy")),persisted:""},{default:I(()=>[q(E("div",{id:i.id,ref_key:"messageRef",ref:p,class:y([r(t).b(),{[r(t).m(i.type)]:i.type},r(t).is("center",i.center),r(t).is("closable",i.showClose),r(t).is("plain",i.plain),i.customClass]),style:J(r(pe)),role:"alert",onMouseenter:D,onMouseleave:N},[i.repeatNum>1?(v(),h(r(Ye),{key:0,value:i.repeatNum,type:r(ue),class:y(r(t).e("badge"))},null,8,["value","type","class"])):T("v-if",!0),r($)?(v(),h(r(Z),{key:1,class:y([r(t).e("icon"),r(ie)])},{default:I(()=>[(v(),h(be(r($))))]),_:1},8,["class"])):T("v-if",!0),G(i.$slots,"default",{},()=>[i.dangerouslyUseHTMLString?(v(),B(he,{key:1},[T(" Caution here, message could've been compromised, never use user's input as message "),E("p",{class:y(r(t).e("content")),innerHTML:i.message},null,10,as)],2112)):(v(),B("p",{key:0,class:y(r(t).e("content"))},Q(i.message),3))]),i.showClose?(v(),h(r(Z),{key:2,class:y(r(t).e("closeBtn")),onClick:Se(_,["stop"])},{default:I(()=>[O(r(o))]),_:1},8,["class","onClick"])):T("v-if",!0)],46,os),[[X,m.value]])]),_:3},8,["name","onBeforeLeave"]))}});var us=ne(rs,[["__file","message.vue"]]);let is=1;const re=s=>{const n=!s||H(s)||W(s)||k(s)?{message:s}:s,e={...c,...n};if(!e.appendTo)e.appendTo=document.body;else if(H(e.appendTo)){let o=document.querySelector(e.appendTo);Pe(o)||(o=document.body),e.appendTo=o}return e},cs=s=>{const n=f.indexOf(s);if(n===-1)return;f.splice(n,1);const{handler:e}=s;e.close()},ds=({appendTo:s,...n},e)=>{const o=`message_${is++}`,t=n.onClose,d=document.createElement("div"),a={...n,id:o,onClose:()=>{t==null||t(),cs(g)},onDestroy:()=>{V(null,d)}},l=O(us,a,k(a.message)||W(a.message)?{default:k(a.message)?a.message:()=>a.message}:null);l.appContext=e||b._context,V(l,d),s.appendChild(d.firstElementChild);const p=l.component,g={id:o,vnode:l,vm:p,handler:{close:()=>{p.exposed.visible.value=!1}},props:l.component.props};return g},b=(s={},n)=>{if(!te)return{close:()=>{}};if(M(R.max)&&f.length>=R.max)return{close:()=>{}};const e=re(s);if(e.grouping&&f.length){const t=f.find(({vnode:d})=>{var a;return((a=d.props)==null?void 0:a.message)===e.message});if(t)return t.props.repeatNum+=1,t.props.type=e.type,t.handler}const o=ds(e,n);return f.push(o),o.handler};le.forEach(s=>{b[s]=(n={},e)=>{const o=re(n);return b({...o,type:s},e)}});function ps(s){for(const n of f)(!s||s===n.props.type)&&n.handler.close()}b.closeAll=ps;b._context=null;const ys=Ue(b,"$message");export{ys as E,vs as g,K as k,ae as u};
