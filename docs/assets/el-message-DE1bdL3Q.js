import{b2 as me,b3 as ge,c as I,b4 as j,ab as ve,_ as i,a1 as G,b5 as ye,aI as be,aJ as Ce,b6 as he,u as r,b7 as Se,b8 as Te,b9 as _e,ba as Ie,bb as xe,a4 as Ne,T as q,W as S,d as w,aF as E,ap as V,as as Z,l as v,e as k,a7 as J,g as M,w as x,i as W,f as B,a8 as y,al as Y,t as Q,v as X,aT as ee,a9 as se,aq as we,aE as ze,ax as Ee,aC as ne,bc as ke,bd as P,o as Be,a2 as Oe,aW as Me,af as $e,aj as h,an as _,E as U,ak as Le,F as De,h as Fe,be as Ve,bf as Ze,aV as Pe,Y as A,bg as te,aa as O,bh as H,aZ as Ue,bi as Ae}from"./index-rUpndQaj.js";function He(s,n,e){return s==null?s:me(s,n,e)}const K=s=>Object.keys(s),gs=(s,n,e)=>({get value(){return ge(s,n,e)},set value(o){He(s,n,o)}}),oe=Symbol(),N=I();function ae(s,n=void 0){const e=j()?ve(oe,N):N;return s?i(()=>{var o,t;return(t=(o=e.value)==null?void 0:o[s])!=null?t:n}):e}function Ke(s,n){const e=ae(),o=G(s,i(()=>{var l;return((l=e.value)==null?void 0:l.namespace)||ye})),t=be(i(()=>{var l;return(l=e.value)==null?void 0:l.locale})),d=Ce(i(()=>{var l;return((l=e.value)==null?void 0:l.zIndex)||he})),a=i(()=>{var l;return r(n)||((l=e.value)==null?void 0:l.size)||""});return Re(i(()=>r(e)||{})),{ns:o,locale:t,zIndex:d,size:a}}const Re=(s,n,e=!1)=>{var o;const t=!!j(),d=t?ae():void 0,a=(o=void 0)!=null?o:t?Ne:void 0;if(!a)return;const l=i(()=>{const p=r(s);return d!=null&&d.value?je(d.value,p):p});return a(oe,l),a(Se,i(()=>l.value.locale)),a(Te,i(()=>l.value.namespace)),a(_e,i(()=>l.value.zIndex)),a(Ie,{size:i(()=>l.value.size||"")}),a(xe,i(()=>({emptyValues:l.value.emptyValues,valueOnClear:l.value.valueOnClear}))),(e||!N.value)&&(N.value=l.value),l},je=(s,n)=>{const e=[...new Set([...K(s),...K(n)])],o={};for(const t of e)o[t]=n[t]!==void 0?n[t]:s[t];return o},R={},Ge=q({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,dotStyle:{type:S([String,Object,Array])},badgeStyle:{type:S([String,Object,Array])},offset:{type:S(Array),default:[0,0]},dotClass:{type:String},badgeClass:{type:String}}),qe=["textContent"],Je=w({name:"ElBadge"}),We=w({...Je,props:Ge,setup(s,{expose:n}){const e=s,o=G("badge"),t=i(()=>e.isDot?"":E(e.value)&&E(e.max)?e.max<e.value?`${e.max}+`:e.value===0&&!e.showZero?"":`${e.value}`:`${e.value}`),d=i(()=>{var a,l,p,m,g,b;return[{backgroundColor:e.color,marginRight:V(-((l=(a=e.offset)==null?void 0:a[0])!=null?l:0)),marginTop:V((m=(p=e.offset)==null?void 0:p[1])!=null?m:0)},(g=e.dotStyle)!=null?g:{},(b=e.badgeStyle)!=null?b:{}]});return Z({from:"dot-style",replacement:"badge-style",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},i(()=>!!e.dotStyle)),Z({from:"dot-class",replacement:"badge-class",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},i(()=>!!e.dotClass)),n({content:t}),(a,l)=>(v(),k("div",{class:y(r(o).b())},[J(a.$slots,"default"),M(ee,{name:`${r(o).namespace.value}-zoom-in-center`,persisted:""},{default:x(()=>[W(B("sup",{class:y([r(o).e("content"),r(o).em("content",a.type),r(o).is("fixed",!!a.$slots.default),r(o).is("dot",a.isDot),a.dotClass,a.badgeClass]),style:Y(r(d)),textContent:Q(r(t))},null,14,qe),[[X,!a.hidden&&(r(t)||a.isDot)]])]),_:1},8,["name"])],2))}});var Ye=se(We,[["__file","badge.vue"]]);const Qe=we(Ye),le=["success","info","warning","error"],c=ze({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:ne?document.body:void 0}),Xe=q({customClass:{type:String,default:c.customClass},center:{type:Boolean,default:c.center},dangerouslyUseHTMLString:{type:Boolean,default:c.dangerouslyUseHTMLString},duration:{type:Number,default:c.duration},icon:{type:Ee,default:c.icon},id:{type:String,default:c.id},message:{type:S([String,Object,Function]),default:c.message},onClose:{type:S(Function),default:c.onClose},showClose:{type:Boolean,default:c.showClose},type:{type:String,values:le,default:c.type},plain:{type:Boolean,default:c.plain},offset:{type:Number,default:c.offset},zIndex:{type:Number,default:c.zIndex},grouping:{type:Boolean,default:c.grouping},repeatNum:{type:Number,default:c.repeatNum}}),es={destroy:()=>!0},f=ke([]),ss=s=>{const n=f.findIndex(t=>t.id===s),e=f[n];let o;return n>0&&(o=f[n-1]),{current:e,prev:o}},ns=s=>{const{prev:n}=ss(s);return n?n.vm.exposed.bottom.value:0},ts=(s,n)=>f.findIndex(o=>o.id===s)>0?16:n,os=["id"],as=["innerHTML"],ls=w({name:"ElMessage"}),rs=w({...ls,props:Xe,emits:es,setup(s,{expose:n}){const e=s,{Close:o}=Ve,{ns:t,zIndex:d}=Ke("message"),{currentZIndex:a,nextZIndex:l}=d,p=I(),m=I(!1),g=I(0);let b;const ie=i(()=>e.type?e.type==="error"?"danger":e.type:"info"),ue=i(()=>{const u=e.type;return{[t.bm("icon",u)]:u&&P[u]}}),$=i(()=>e.icon||P[e.type]||""),ce=i(()=>ns(e.id)),L=i(()=>ts(e.id,e.offset)+ce.value),de=i(()=>g.value+L.value),pe=i(()=>({top:`${L.value}px`,zIndex:a.value}));function z(){e.duration!==0&&({stop:b}=Ze(()=>{T()},e.duration))}function D(){b==null||b()}function T(){m.value=!1}function fe({code:u}){u===Pe.esc&&T()}return Be(()=>{z(),l(),m.value=!0}),Oe(()=>e.repeatNum,()=>{D(),z()}),Me(document,"keydown",fe),$e(p,()=>{g.value=p.value.getBoundingClientRect().height}),n({visible:m,bottom:de,close:T}),(u,F)=>(v(),h(ee,{name:r(t).b("fade"),onBeforeLeave:u.onClose,onAfterLeave:F[0]||(F[0]=fs=>u.$emit("destroy")),persisted:""},{default:x(()=>[W(B("div",{id:u.id,ref_key:"messageRef",ref:p,class:y([r(t).b(),{[r(t).m(u.type)]:u.type},r(t).is("center",u.center),r(t).is("closable",u.showClose),r(t).is("plain",u.plain),u.customClass]),style:Y(r(pe)),role:"alert",onMouseenter:D,onMouseleave:z},[u.repeatNum>1?(v(),h(r(Qe),{key:0,value:u.repeatNum,type:r(ie),class:y(r(t).e("badge"))},null,8,["value","type","class"])):_("v-if",!0),r($)?(v(),h(r(U),{key:1,class:y([r(t).e("icon"),r(ue)])},{default:x(()=>[(v(),h(Le(r($))))]),_:1},8,["class"])):_("v-if",!0),J(u.$slots,"default",{},()=>[u.dangerouslyUseHTMLString?(v(),k(De,{key:1},[_(" Caution here, message could've been compromised, never use user's input as message "),B("p",{class:y(r(t).e("content")),innerHTML:u.message},null,10,as)],2112)):(v(),k("p",{key:0,class:y(r(t).e("content"))},Q(u.message),3))]),u.showClose?(v(),h(r(U),{key:2,class:y(r(t).e("closeBtn")),onClick:Fe(T,["stop"])},{default:x(()=>[M(r(o))]),_:1},8,["class","onClick"])):_("v-if",!0)],46,os),[[X,m.value]])]),_:3},8,["name","onBeforeLeave"]))}});var is=se(rs,[["__file","message.vue"]]);let us=1;const re=s=>{const n=!s||A(s)||te(s)||O(s)?{message:s}:s,e={...c,...n};if(!e.appendTo)e.appendTo=document.body;else if(A(e.appendTo)){let o=document.querySelector(e.appendTo);Ue(o)||(o=document.body),e.appendTo=o}return e},cs=s=>{const n=f.indexOf(s);if(n===-1)return;f.splice(n,1);const{handler:e}=s;e.close()},ds=({appendTo:s,...n},e)=>{const o=`message_${us++}`,t=n.onClose,d=document.createElement("div"),a={...n,id:o,onClose:()=>{t==null||t(),cs(g)},onDestroy:()=>{H(null,d)}},l=M(is,a,O(a.message)||te(a.message)?{default:O(a.message)?a.message:()=>a.message}:null);l.appContext=e||C._context,H(l,d),s.appendChild(d.firstElementChild);const p=l.component,g={id:o,vnode:l,vm:p,handler:{close:()=>{p.exposed.visible.value=!1}},props:l.component.props};return g},C=(s={},n)=>{if(!ne)return{close:()=>{}};if(E(R.max)&&f.length>=R.max)return{close:()=>{}};const e=re(s);if(e.grouping&&f.length){const t=f.find(({vnode:d})=>{var a;return((a=d.props)==null?void 0:a.message)===e.message});if(t)return t.props.repeatNum+=1,t.props.type=e.type,t.handler}const o=ds(e,n);return f.push(o),o.handler};le.forEach(s=>{C[s]=(n={},e)=>{const o=re(n);return C({...o,type:s},e)}});function ps(s){for(const n of f)(!s||s===n.props.type)&&n.handler.close()}C.closeAll=ps;C._context=null;const vs=Ae(C,"$message");export{vs as E,gs as g,K as k,ae as u};
